##!/bin/python3
#Sort the data based on the Kth
import math
import os
import random
import re
import sys



if __name__ == '__main__':
    nm = input().split()

    n = int(nm[0])

    m = int(nm[1])

    arr = []

    for _ in range(n):
        arr.append(list(map(int, input().rstrip().split())))

    k = int(input())
    
    tem = []
    tems = []
    
    #anss
    for i in range(n):
        tems.append(arr[i][k])
    tems.sort()
    
    for i in range(n):
        for j in range(n):
            if arr[j][k] == tems[i]:
                if arr[j] in tem:
                    continue
                else:
                    tem.append(arr[j])        
    for row in tem:
        print(*row)
# Enter your code here. Read input from STDIN. Print output to STDOUT
# Enter your code here. Read input from STDIN. Print output to STDOUT
n = int(input())
word = []
wordlist = []
for i in range(n):
    inputs = str(input()).strip()
    word.append(inputs)
    if word.count(inputs) == 1:
        wordlist.append(inputs) 


distinct = ""
count = 0

for indexi, i in enumerate(word):
    for indexj, j in enumerate(word):
        if indexi == indexj:
            continue
        elif j.rfind(i) != -1 or i.rfind(j) != -1:
            if len(j) < len(i):
                distinct = j
            else:
                distinct = i
            break
    if len(distinct) > 0:
        break
        
for i in word:
    if i.rfind(distinct) != -1:
        count += 1
        
print(count)
for i in wordlist:
    print(word.count(i), end=' ')
    
  
    


           
           
           
           
           
           
           
           
           
           
           
           
           
           
           
           
          
